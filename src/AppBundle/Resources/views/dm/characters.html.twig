{% extends 'base.html.twig' %}
{% block seo %}
	<meta name="description" content="Dungeon Master's Toolset designed with the Elthelas Campaign Setting in mind.
  Includes initiative roller, dungeon master's dashboard, campaign journal, and character creator tool (for use with the dashboard)" />
	<meta name="keywords" content="dungeons, dragons, elthelas, campaign, setting, 5th edition, custom, tools, initiative, dashboard, journal, creator" />
  <style type="text/css">
    .m-1 {
      margin: 5px;
    }
    .mt-1 {
      margin-top: 5px;
    }
    .mb-1 {
      margin-bottom: 5px;
    }
    .mr-1 {
      margin-right: 5px;
    }
    .ml-1 {
      margin-left: 5px;
    }
    .mx-1 {
      margin-right: 5px;
      margin-left: 5px;
    }
    .my-1 {
      margin-top: 5px;
      margin-bottom: 5px;
    }
  </style>
{% endblock %}

{% block body %}
{% verbatim %}
<div data-ng-app="chardashboard">
  
  <div data-ng-controller="charcontroller" data-ng-init="init()">
    

    <div id="newchar">
      <div class="form-group m-1 clearfix">
        <!--<div class="col-xs-9">-->
          <label>Create a New Character
          <input type="text" data-ng-model="charname" placeholder="Character Name" class="form-control" /></label>
        <!--</div>-->
         <div class="btn-group">
          <input type="button" data-ng-click="newChar()" value="Create" class="btn btn-sm btn-primary mx-1" />
        </div>
      </div>
    </div>
    <h4>Existing Characters</h4>
    <table id="charlist" class="table table-striped">
      
    </table>
    <div class="alert alert-success m-1" data-ng-if="alertcontent !== ''">
      {{alertcontent}}
    </div>
    <div class="btn-group m-1">
      <input type="button" data-ng-click="loadChar()" class="btn btn-success btn-sm my-1" value="Load" />
      <input type="button" data-ng-click="saveChar()" class="btn btn-primary btn-sm my-1" value="Save" />
      <input type="button" data-ng-click="deleteChar()" class="btn btn-danger btn-sm my-1" value="Delete" />
    </div>
    <uib-tabset active="active">
      <uib-tab index="0" heading="Character">
        <div class="row">
          <div class="col-xs-12">
          <label>Name: <input type="text" class="form-control" data-ng-model="character.name" /></label>
          <label>Race: <select class="form-control" data-ng-model="character.race">
            <option value="aasimar">Aasimar</option>
            <option value="dragonborn">Dragonborn</option>
            <option value="dwarf">Dwarf</option>
            <option value="elf">Elf</option>
            <option value="faelin">Faelin</option>
            <option value="feyri">Fey'ri</option>
            <option value="genasi">Genasi</option>
            <option value="gnome">Gnome</option>
            <option value="goblin">Goblin</option>
            <option value="goliath">Goliath</option>
            <option value="half-dwarf">Half-Dwarf</option>
            <option value="half-elf">Half-Elf</option>
            <option value="halfling">Halfling</option>
            <option value="human">Human</option>
            <option value="orc">Orc</option>
            <option value="tiefling">Tiefling</option>
            <option value="trollkin">Trollkin</option>
            <option value="bugbear">Bugbear</option>
            <option value="gnoll">Gnoll</option>
            <option value="hobgoblin">Hobgoblin</option>
            <option value="kobold">kobold</option>
            <option value="lizardfolk">Lizardfolk</option>
          </select></label>
          <label>Class & Level: <input type="text" class="form-control" data-ng-model="character.classlevel" /></label>
          <label>Background: <input type="text" class="form-control" data-ng-model="character.background" /></label>
          <label>Alignment: <select class="form-control" data-ng-model="character.alignment">
            <option value="unaligned">Unaligned</option>
            <option value="lawful good">Lawful Good</option>
            <option value="neutral good">Good</option>
            <option value="chaotic good">Chaotic Good</option>
            <option value="lawful neutral">Lawful</option>
            <option value="true neutral">Neutral</option>
            <option value="chaotic neutral">Chaotic</option>
            <option value="lawful evil">Lawful Evil</option>
            <option value="neutral evil">Evil</option>
            <option value="chaotic evil">Chaotic Evil</option>
          </select></label>
          <label>EXP: <input type="number" data-ng-model="character.experience" class="form-control" /></label>
          <label>Proficiency Bonus: <input type="number" class="form-control" data-ng-model="character.proficiency" /></label>
          </div>
        </div>
        <div class="row">
                <div class="col-lg-2">
                    <h4>Hit Points</h4>
                    <input type="number" data-ng-model="character.hpcurrent" style="background-color: rgba(255,255,1,0.2); border-radius: 7px; padding: 0 1px; border: 0; width: 50px;" />
                    /
                    <input type="number" data-ng-model="character.hpmax" style="background-color: rgba(255,255,1,0.2); border-radius: 7px; padding: 0 1px; border: 0; width: 50px;" /><br />
                    <label class="mt-1">Temp: <input type="number" data-ng-model="character.temphp"  style="background-color: rgba(255,255,1,0.2); border-radius: 7px; padding: 0 1px; border: 0; width: 50px;" /></label>
                </div>
                <div class="col-lg-2">
                    <h4>Hit Dice</h4>
                    <label class="mt-1">d6:&nbsp;
                    <input type="number" data-ng-model="character.d6hitdicecur"  style="background-color: rgba(255,255,1,0.2); border-radius: 7px; padding: 0 1px; border: 0; width: 50px;" />
                    /
                    <input type="number" data-ng-model="character.d6hitdice"  style="background-color: rgba(255,255,1,0.2); border-radius: 7px; padding: 0 1px; border: 0; width: 50px;" /></label><br />
                    <label class="mt-1">d8:&nbsp;
                    <input type="number" data-ng-model="character.d8hitdicecur"  style="background-color: rgba(255,255,1,0.2); border-radius: 7px; padding: 0 1px; border: 0; width: 50px;" />
                    /
                    <input type="number" data-ng-model="character.d8hitdice"  style="background-color: rgba(255,255,1,0.2); border-radius: 7px; padding: 0 1px; border: 0; width: 50px;" /></label><br />
                    <label class="mt-1">d10:
                    <input type="number" data-ng-model="character.d10hitdicecur"  style="background-color: rgba(255,255,1,0.2); border-radius: 7px; padding: 0 1px; border: 0; width: 50px;" />
                    /
                    <input type="number" data-ng-model="character.d10hitdice"  style="background-color: rgba(255,255,1,0.2); border-radius: 7px; padding: 0 1px; border: 0; width: 50px;" /></label><br />
                    <label class="mt-1">d12:
                    <input type="number" data-ng-model="character.d12hitdicecur"  style="background-color: rgba(255,255,1,0.2); border-radius: 7px; padding: 0 1px; border: 0; width: 50px;" />
                    /
                    <input type="number" data-ng-model="character.d12hitdice"  style="background-color: rgba(255,255,1,0.2); border-radius: 7px; padding: 0 1px; border: 0; width: 50px;" /></label><br />
                </div>
                <div class="col-lg-2">
                    <h4 style="text-align: center;">Passive Perception</h4>
                    <div style="width:50px; height: 35px; padding: 5px; border: 2px solid black; border-radius: 5px; text-align: center; margin-left: auto; margin-right: auto;">
                        
                        <strong>{{ 10 + character.perception * character.proficiency + floor((character.wis) / 2 - 5)}}</strong>
                    </div>
                    <label>Senses: <input type="text" data-ng-model="character.senses" class="form-control" /> </label>
                </div>
                <div class="col-lg-2">
                    <h4 style="text-align: center;">AC</h4>
                    <div style="width:50px; height: 35px; padding: 5px; border: 2px solid black; border-radius: 5px; text-align: center; margin-left: auto; margin-right: auto;">
                        
                        <strong>{{ ac() }}</strong>
                    </div>
                    <label>Speed: <input type="text" data-ng-model="character.speed" class="form-control" /> </label>
                </div>
                <div class="col-lg-4">
                    <label style="width:100%;">Bond: <textarea class="form-control" data-ng-model="character.bond" rows="2"></textarea></label>
                    <label style="width:100%;">Ideal: <textarea class="form-control" data-ng-model="character.ideal" rows="2"></textarea></label>
                    <label style="width:100%;">Flaw: <textarea class="form-control" data-ng-model="character.flaw" rows="2"></textarea></label>
                </div>
        </div>
        <div class="row">
          <div class="col-lg-4">
            <table class="table table-striped">
              <thead>
                <tr>
                  <th>Ability</th><th>Score</th><th>Mod</th><th>Prof</th><th>Save</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>STR</td><td><input type="number" data-ng-model="character.str" /></td><td>{{ floor((character.str) / 2 - 5) }}</td>
                  <td><input type="checkbox" data-ng-model="character.strsave" /></td>
                  <td>{{ character.strsave ? floor((character.str) / 2 - 5) + character.proficiency : floor((character.str) / 2 - 5) }}</td>
                </tr>
                <tr>
                  <td>DEX</td><td><input type="number" data-ng-model="character.dex" /></td><td>{{ floor((character.dex) / 2 - 5) }}</td>
                  <td><input type="checkbox" data-ng-model="character.dexsave" /></td>
                  <td>{{ character.dexsave ? floor((character.dex) / 2 - 5) + character.proficiency : floor((character.dex) / 2 - 5) }}</td>
                </tr>
                <tr>
                  <td>CON</td><td><input type="number" data-ng-model="character.con" /></td><td>{{ floor((character.con) / 2 - 5) }}</td>
                  <td><input type="checkbox" data-ng-model="character.consave" /></td>
                  <td>{{ character.consave ? floor((character.con) / 2 - 5) + character.proficiency : floor((character.con) / 2 - 5) }}</td>
                </tr>
                <tr>
                  <td>INT</td><td><input type="number" data-ng-model="character.intel" /></td><td>{{ floor((character.intel) / 2 - 5) }}</td>
                  <td><input type="checkbox" data-ng-model="character.intsave" /></td>
                  <td>{{ character.intsave ? floor((character.intel) / 2 - 5) + character.proficiency : floor((character.intel) / 2 - 5) }}</td>
                </tr>
                <tr>
                  <td>WIS</td><td><input type="number" data-ng-model="character.wis" /></td><td>{{ floor((character.wis) / 2 - 5) }}</td>
                  <td><input type="checkbox" data-ng-model="character.wissave" /></td>
                  <td>{{ character.wissave ? floor((character.wis) / 2 - 5) + character.proficiency : floor((character.wis) / 2 - 5) }}</td>
                </tr>
                <tr>
                  <td>CHA</td><td><input type="number" data-ng-model="character.cha" /></td><td>{{ floor((character.cha) / 2 - 5) }}</td>
                  <td><input type="checkbox" data-ng-model="character.chasave" /></td>
                  <td>{{ character.chasave ? floor((character.cha) / 2 - 5) + character.proficiency : floor((character.cha) / 2 - 5) }}</td>
                </tr>
              </tbody>
            </table>
            
                    <label style="width:100%;">Languages and Proficiencies:
                    <textarea class="form-control" data-ng-model="character.languages" style="width:100%;" rows="6"></textarea></label>
          </div>
          <div class="col-lg-4">
            <table class="table table-striped">
              <thead>
                <tr>
                  <th>Skill</th><th>Prof</th><th>Mod</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <th>Acrobatics</th><td><select data-ng-model="character.acrobatics" convert-to-number>
                    <option value="0">-</option>
                    <option value="1">Prof</option>
                    <option value="2">Exp</option>
                    <option value="0.5">Jack</option>
                  </select></td><td>{{ character.proficiency * character.acrobatics + floor(character.dex / 2 -  5) }}</td>
                </tr>
                <tr>
                  <th>Animal Handling</th><td><select data-ng-model="character.animalhandling" convert-to-number>
                    <option value="0">-</option>
                    <option value="1">Prof</option>
                    <option value="2">Exp</option>
                    <option value="0.5">Jack</option>
                  </select></td><td>{{ character.proficiency * character.animalhandling + floor(character.wis / 2 -  5) }}</td>
                </tr>
                <tr>
                  <th>Arcana</th><td><select data-ng-model="character.arcana" convert-to-number>
                    <option value="0">-</option>
                    <option value="1">Prof</option>
                    <option value="2">Exp</option>
                    <option value="0.5">Jack</option>
                  </select></td><td>{{ character.proficiency * character.arcana + floor(character.intel / 2 -  5) }}</td>
                </tr>
                <tr>
                  <th>Athletics</th><td><select data-ng-model="character.athletics" convert-to-number>
                    <option value="0">-</option>
                    <option value="1">Prof</option>
                    <option value="2">Exp</option>
                    <option value="0.5">Jack</option>
                  </select></td><td>{{ character.proficiency * character.athletics + floor(character.str / 2 -  5) }}</td>
                </tr>
                <tr>
                  <th>Deception</th><td><select data-ng-model="character.deception" convert-to-number>
                    <option value="0">-</option>
                    <option value="1">Prof</option>
                    <option value="2">Exp</option>
                    <option value="0.5">Jack</option>
                  </select></td><td>{{ character.proficiency * character.deception + floor(character.cha / 2 -  5) }}</td>
                </tr>
                <tr>
                  <th>History</th><td><select data-ng-model="character.history" convert-to-number>
                    <option value="0">-</option>
                    <option value="1">Prof</option>
                    <option value="2">Exp</option>
                    <option value="0.5">Jack</option>
                  </select></td><td>{{ character.proficiency * character.history + floor(character.intel / 2 -  5) }}</td>
                </tr>
                <tr>
                  <th>Insight</th><td><select data-ng-model="character.insight" convert-to-number>
                    <option value="0">-</option>
                    <option value="1">Prof</option>
                    <option value="2">Exp</option>
                    <option value="0.5">Jack</option>
                  </select></td><td>{{ character.proficiency * character.insight + floor(character.wis / 2 -  5) }}</td>
                </tr>
                <tr>
                  <th>Intimidation</th><td><select data-ng-model="character.intimidation" convert-to-number>
                    <option value="0">-</option>
                    <option value="1">Prof</option>
                    <option value="2">Exp</option>
                    <option value="0.5">Jack</option>
                  </select></td><td>{{ character.proficiency * character.intimidation + floor(character.cha / 2 -  5) }}</td>
                </tr>
                <tr>
                  <th>Investigation</th><td><select data-ng-model="character.investigation" convert-to-number>
                    <option value="0">-</option>
                    <option value="1">Prof</option>
                    <option value="2">Exp</option>
                    <option value="0.5">Jack</option>
                  </select></td><td>{{ character.proficiency * character.investigation + floor(character.intel / 2 -  5) }}</td>
                </tr>
                <tr>
                  <th>Medicine</th><td><select data-ng-model="character.medicine" convert-to-number>
                    <option value="0">-</option>
                    <option value="1">Prof</option>
                    <option value="2">Exp</option>
                    <option value="0.5">Jack</option>
                  </select></td><td>{{ character.proficiency * character.medicine + floor(character.wis / 2 -  5) }}</td>
                </tr>
                <tr>
                  <th>Nature</th><td><select data-ng-model="character.nature" convert-to-number>
                    <option value="0">-</option>
                    <option value="1">Prof</option>
                    <option value="2">Exp</option>
                    <option value="0.5">Jack</option>
                  </select></td><td>{{ character.proficiency * character.nature + floor(character.intel / 2 -  5) }}</td>
                </tr>
                <tr>
                  <th>Perception</th><td><select data-ng-model="character.perception" convert-to-number>
                    <option value="0">-</option>
                    <option value="1">Prof</option>
                    <option value="2">Exp</option>
                    <option value="0.5">Jack</option>
                  </select></td><td>{{ character.proficiency * character.perception + floor(character.wis / 2 -  5) }}</td>
                </tr>
                <tr>
                  <th>Performance</th><td><select data-ng-model="character.performance" convert-to-number>
                    <option value="0">-</option>
                    <option value="1">Prof</option>
                    <option value="2">Exp</option>
                    <option value="0.5">Jack</option>
                  </select></td><td>{{ character.proficiency * character.performance + floor(character.cha / 2 -  5) }}</td>
                </tr>
                <tr>
                  <th>Persuasion</th><td><select data-ng-model="character.persuasion" convert-to-number>
                    <option value="0">-</option>
                    <option value="1">Prof</option>
                    <option value="2">Exp</option>
                    <option value="0.5">Jack</option>
                  </select></td><td>{{ character.proficiency * character.persuasion + floor(character.cha / 2 -  5) }}</td>
                </tr>
                <tr>
                  <th>Religion</th><td><select data-ng-model="character.religion" convert-to-number>
                    <option value="0">-</option>
                    <option value="1">Prof</option>
                    <option value="2">Exp</option>
                    <option value="0.5">Jack</option>
                  </select></td><td>{{ character.proficiency * character.religion + floor(character.intel / 2 -  5) }}</td>
                </tr>
                <tr>
                  <th>Slight of Hand</th><td><select data-ng-model="character.slightofhand" convert-to-number>
                    <option value="0">-</option>
                    <option value="1">Prof</option>
                    <option value="2">Exp</option>
                    <option value="0.5">Jack</option>
                  </select></td><td>{{ character.proficiency * character.slightofhand + floor(character.dex / 2 -  5) }}</td>
                </tr>
                <tr>
                  <th>Stealth</th><td><select data-ng-model="character.stealth" convert-to-number>
                    <option value="0">-</option>
                    <option value="1">Prof</option>
                    <option value="2">Exp</option>
                    <option value="0.5">Jack</option>
                  </select></td><td>{{ character.proficiency * character.stealth + floor(character.dex / 2 -  5) }}</td>
                </tr>
                <tr>
                  <th>Survival</th><td><select data-ng-model="character.survival" convert-to-number>
                    <option value="0">-</option>
                    <option value="1">Prof</option>
                    <option value="2">Exp</option>
                    <option value="0.5">Jack</option>
                  </select></td><td>{{ character.proficiency * character.survival + floor(character.wis / 2 -  5) }}</td>
                </tr>
              </tbody>
            </table>
          </div>
          <div class="col-lg-4">
              <label style="width:100%;">Physical Description:<textarea class="form-control" data-ng-model="character.physicaldescription" rows="6"></textarea></label>
              <label style="width:100%;">Features and Traits:<textarea class="form-control" data-ng-model="character.features" rows="20"></textarea></label>
          </div>
        </div>
      </uib-tab>
      <uib-tab index="1" heading="Attacks">
        <div class="row mt-1" data-ng-repeat="attack in character.attacks">
            <label>Name: <input type="text" data-ng-model="attack.name" class="form-control" /></label>
            <label>Bonus: <input type="number" data-ng-model="attack.bonus" class="form-control" /></label>
            <label>Damage: <input type="text" data-ng-model="attack.damage" class="form-control" /></label>
            <label>Critical: <input type="text" data-ng-model="attack.crit" class="form-control" /></label>
            <input type="button" class="btn btn-success" value="Roll" data-ng-click="rollattack(attack)" />
            <input type="button" class="btn btn-danger" value="Delete" data-ng-click="deleteattack(attack)" />
        </div>
        <input type="button" value="Add Attack" data-ng-click="addattack()" class="btn btn-primary mt-1" />
        <div class="mt-1">
            <h4>Attack Rolls</h4>
            <div class="alert alert-success" data-ng-repeat="roll in attackrolls">
                <h4>{{ roll.name }}</h4>
                <strong>{{roll.roll1raw}} + {{roll.bonus}} = {{roll.roll1}}</strong> | <strong>{{roll.roll2raw}} + {{roll.bonus}} = {{roll.roll2}}</strong><br />
                <strong>Damage: {{roll.damage}} Crit: {{roll.crit}}</strong>
            </div>
        </div>
      </uib-tab>
      <uib-tab index="2" heading="Spellbook">
        <h4>Cantrips</h4>
        <div class="row mt-1" data-ng-repeat="spell in character.spells | filter:cantripFilter | orderBy: 'title'">
          <div data-ng-class="spell.prepared ? 'alert-success' : ''" class="col-xs-12 clear-fix">
            <h5><strong>{{ spell.title }} ({{spell.source}}) </strong>          
            <div class="btn-group ml-1">
              <input type="button" data-ng-click="viewKnownSpell(spell)" class="btn btn-primary" value="View" />
              <input type="button" data-ng-click="editKnownSpell(spell)" class="btn btn-success" value="Edit" />
              <input type="button" data-ng-click="deleteKnownSpell(spell)" class="btn btn-danger" value="Delete" />
            </div></h5> 
            <div class="checkbox"><label><input type="checkbox" style="margin-top: 0px" data-ng-model="spell.prepared" />Prepared </label>{{ spell.ritual ? "Ritual" : "" }} {{ spell.concentration ? "Concentration" : "" }} 
            {{ spell.school | capitalize }}</div> 
          </div>
          <div class="col-xs-12 mt-1 clear-fix" class="viewSpell" data-ng-hide="!spell.view">
            <p><strong>
              Casting Time: {{spell.castingtime}}<br />
              Range: {{spell.range}}<br />
              Components: {{spell.components}}<br />
              Duration: {{spell.duration}}<br />
              From Class: {{spell.fromclass}}<br />
              Attack Bonus: +{{character.proficiency + (spell.castingstat === "intel" ? floor((character.intel) / 2 - 5) : 0) +
              (spell.castingstat === "str" ? floor((character.str) / 2 - 5) : 0) +
              (spell.castingstat === "dex" ? floor((character.dex) / 2 - 5) : 0) +
              (spell.castingstat === "con" ? floor((character.con) / 2 - 5) : 0) +
              (spell.castingstat === "wis" ? floor((character.wis) / 2 - 5) : 0) + 
              (spell.castingstat === "cha" ? floor((character.cha) / 2 - 5) : 0)}}<br />
              Save DC: {{8 + character.proficiency + (spell.castingstat === "intel" ? floor((character.intel) / 2 - 5) : 0) +
              (spell.castingstat === "str" ? floor((character.str) / 2 - 5) : 0) +
              (spell.castingstat === "dex" ? floor((character.dex) / 2 - 5) : 0) +
              (spell.castingstat === "con" ? floor((character.con) / 2 - 5) : 0) +
              (spell.castingstat === "wis" ? floor((character.wis) / 2 - 5) : 0) + 
              (spell.castingstat === "cha" ? floor((character.cha) / 2 - 5) : 0)
              }}<br />
            </strong></p>
            <h5><strong>Description</strong></h5>
            <p data-ng-bind-html="spell.description"></p>
          </div>
          <div class="row mt-1" class="editSpell" data-ng-hide="!spell.edit">
            <label>Title: <input type="text" data-ng-model="spell.title" class="form-control"/></label>
            <label>Source: <input type="text" data-ng-model="spell.source" class="form-control"/></label>
            <label>School: <select class="form-control" data-ng-model="spell.school">
                <option value="abjuration">Abjuration</option>
                <option value="conjuration">Conjuration</option>
                <option value="divination">Divination</option>
                <option value="enchantment">Enchantment</option>
                <option value="evocation">Evocation</option>
                <option value="illusion">Illusion</option>
                <option value="necromancy">Necromancy</option>
                <option value="transmutation">Transmutation</option>
                
            </select></label>
            <label>Level: <select class="form-control" data-ng-model="spell.level">
                <option value="cantrip">Cantrip</option>
                <option value="level1">1</option>
                <option value="level2">2</option>
                <option value="level3">3</option>
                <option value="level4">4</option>
                <option value="level5">5</option>
                <option value="level6">6</option>
                <option value="level7">7</option>
                <option value="level8">8</option>
                <option value="level9">9</option>
            </select></label>
            <label>Ritual:
              <input type="checkbox" data-ng-model="spell.ritual"  />
            </label>
            <label>Casting Time: <input type="text" class="form-control" data-ng-model="spell.castingtime" />
            </select></label>
            <label>
              Range: <input type="text" class="form-control" data-ng-model="spell.range" />
            </label>
            <label>
              Components: <input type="text" class="form-control" data-ng-model="spell.components" />
            </label>
            <label>
              Duration: <input type="text" class="form-control" data-ng-model="spell.duration" />
            </label>
            <label>
              Concentration: <input type="checkbox" data-ng-model="spell.concentration" />
            </label>
            <label>
              From Class:
              <select class="form-control" data-ng-model="spell.fromclass">
                <option value="barbarian">Barbarian</option>
                <option value="bard">Bard</option>
                <option value="cleric">Cleric</option>
                <option value="druid">Druid</option>
                <option value="factotum">Factotum</option>
                <option value="fighter">Fighter</option>
                <option value="monk">Monk</option>
                <option value="paladin">Paladin</option>
                <option value="ranger">Ranger</option>
                <option value="rogue">Rogue</option>
                <option value="sorcerer">Sorcerer</option>
                <option value="warlock">Warlock</option>
                <option value="wizard">Wizard</option>
              </select>
            </label>
            <label>
              Prepared: <input type="checkbox" data-ng-model="spell.prepared" />
            </label>
            <label>
              Casting Stat: <select class="form-control" data-ng-model="spell.castingstat">
                <option value="str">Str</option>
                <option value="dex">Dex</option>
                <option value="con">Con</option>
                <option value="intel">Int</option>
                <option value="wis">Wis</option>
                <option value="cha">Cha</option>
              </select>
            </label>
            <label>
              Description
              <textarea class="form-control" data-ng-model="spell.description">
                </textarea>
            </label>
            <label>
              At Higher Levels
              <textarea class="form-control" data-ng-model="spell.higherlevels">
                </textarea>
            </label>
          </div>
        </div>
        <input type="button" class="btn btn-primary" data-ng-click="addCantrip()" value="Add" />
      </uib-tab>
      <uib-tab index="3" heading="Possessions">
        
      </uib-tab>
    </uib-tabset>
    
    <table id="spelltable" class="table table-striped"></table>
    <div data-ng-hide="currentSpell.title === undefined">
      <div class="col-xs-12 clear-fix">
            <h5><strong>{{ currentSpell.title }} ({{currentSpell.source}}) </strong></h5> 
            <div class="checkbox">
              {{ currentSpell.ritual ? "Ritual" : "" }} {{ currentSpell.concentration ? "Concentration" : "" }} 
            {{ currentSpell.school | capitalize }}</div> 
          </div>
          <div class="col-xs-12 mt-1 clear-fix" class="viewSpell">
            <p><strong>
              Casting Time: {{currentSpell.castingTime}}<br />
              Range: {{currentSpell.range}}<br />
              Components: {{currentSpell.components}}<br />
              Duration: {{currentSpell.duration}}<br />
              <br />
            </strong></p>
            <h5><strong>Description</strong></h5>
            <p data-ng-bind-html="currentSpell.description"></p>
          </div>
    </div>
  </div>
</div>
{% endverbatim %}
{% endblock %}

{% block javascripts %}
    <script>
      var spells = {{ spells|raw }};
      var getAllUrl = "{{ path('get_characters') }}";
      var getUrl = "{{ path('get_character', {'id': 0}) }}";
      var updateUrl = "{{ path('update_character', {'id': 0} ) }}";
      var deleteUrl = "{{ path('delete_character', {'id': 0} ) }}";
      var addUrl = "{{ path('add_character') }}";
      var deleteAttackUrl = "{{path("attack_delete", {'id': 0} ) }}";
    </script>
    <script src="{{asset('jquery/3.1.0/jquery.min.js', 'cdn')}}"></script>
    <script src="{{asset('jqueryui/1.12.1/jquery-ui.min.js', 'cdn')}}"></script>
    <script src="{{asset('angularjs/1.6.1/angular.min.js', 'cdn')}}"></script>
    <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.6.1/angular-animate.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/angular-sanitize/1.6.1/angular-sanitize.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/angular-ui-bootstrap/2.5.0/ui-bootstrap-tpls.min.js"></script>
    {% javascripts '@AppBundle/libraries/*'
                   '@AppBundle/js/character.js'
                    output='js/script-character.js'%}
    <script src="{{ asset_url }}"></script>
    {% endjavascripts %}

{% endblock %}