{% extends 'base.html.twig' %}
{% block seo %}
	<meta name="description" content="Dungeon Master's Toolset designed with the Elthelas Campaign Setting in mind.
  Includes initiative roller, dungeon master's dashboard, campaign journal, and character creator tool (for use with the dashboard)" />
	<meta name="keywords" content="dungeons, dragons, elthelas, campaign, setting, 5th edition, custom, tools, initiative, dashboard, journal, creator" />
  <style type="text/css">
    .btn.AppMenuButton {
      display: block;
      width: 100%;
      margin-bottom: 15px;
    }
    .app {
      width: 98%;
      padding: 0.5% 1% 0.5% 1%;
      border: 1px outset gray;
      box-shadow: 10px 10px 5px black;
    }
    #appmenulist {
      list-style-type: none;
      margin: 0px;
      padding: 0px;
    }
    #appmenulist li {
      width: 100%;
    }
    #appmenulist li a {
      width: 100%;
      background-color: rgb(221,221,221);
      color: black;
    }
  </style>
{% endblock %}

{% block body %}
<div data-ng-app="dmTools" class="container-fluid">
  <div class="row">
    <div id="content" class="col-sm-10">    
      <div class="app" id="creatureCreator" data-ng-controller="creatureCreator" data-ng-init="init()" style="display: none">
        <h3>Creature Creator</h3>
         <script type="text/javascript">
  var loadallpath = "{{ path('get_creatures') }}";
  var loadpath = "{{ path('get_creature', {'id': 1}) }}";
  var updatepath = "{{ path('update_creature', {'id': 1})}}";
  var addpath = "{{ path('add_creature')}}";
  var deletepath = "{{ path('delete_creature', {'id': 1})}}";
 </script>
<div class="row">
  <div class="form-group col-sm-12">
    <table id="creatureLoad"></table>
  </div>
  <div class="col-md-3 btn-group">
    <input type="button" value="Load" id="loadchar" class="btn btn-default"/>
    <input type="button" value="Save" id="savechar" class="btn btn-default"/>
    <input type="button" value="Delete" id="deletechar" class="btn btn-default" />
  </div>
</div>
<section id="charform">
<div class="row">
  <input type="hidden" name="charid" data-ng-model="id" id="charid" value="NOCHARLOADED" />
  <div class="col-md-2 form-group">
    <label>Name: <input type="text" id="name" class="form-control" /></label>
  </div>
  <div class="col-md-2 form-group">
    <label>Class and Level: <input type="text" id="classlevel" class="form-control" /></label>
  </div>
  <div class="col-md-2 form-group">
  <label>Background: <input type="text" id="background" class="form-control" /></label>
  </div>
    
  <div class="col-md-2 form-group">
    <label>Race: <input type="text" id="race" class="form-control" /></label>
  </div>
  
  <div class="col-md-2 form-group">
    <label>Alignment: <input type="text" id="alignment" class="form-control" /></label>
  </div>
</div>
<div class="row">
  <div class="col-md-2 form-group">
    <label>Experience: <input type="number" id="experience" class="form-control" /></label>
  </div>
  
  <div class="col-md-2 form-group">
    <label>CR: <input type="number" id="cr" class="form-control" /></label>
  </div>
  
  <div class="col-md-2 form-group">
    <label>Proficiency Bonus: <input type="number" id="proficiencybonus" class="form-control" /></label>
  </div>
  <div class="col-md-2 form-group">
    <label>AC <input type="number" id="ac" class="form-control" /></label>
  </div>
  <div class="col-md-2 form-group">
    <label>Speed <input type="text" id="speed" class="form-control" /></label>
  </div> 
</div>
<div class="row">
  <div class="col-md-4">
    <h4>Attributes</h4>
    <label for="str">Strength: <input type="number" id="str" class="form-control" /></label>
    <label for="dex">Dexterity: <input type="number" id="dex" class="form-control" /></label>
    <label for="con">Constitution: <input type="number" id="con" class="form-control" /></label>
    <label for="intel">Intelligence: <input type="number" id="intel" class="form-control" /></label>
    <label for="wis">Wisdom: <input type="number" id="wis" class="form-control" /></label>
    <label for="cha">Charisma: <input type="number" id="cha" class="form-control" /></label>
  </div>
  <div class="col-md-4">
    <h4>Abilities</h4>
    <label for="hpmax">Max HP: <input type="number" id="hpmax" class="form-control" /></label>
    <label for="hitdice"> Max Hitdice: <input id="hitdice" type="number" class="form-control" /></label>
    <label>Passive Perception <input type="number" id="passiveperception" class="form-control" /></label>
    <label>Damage Resistances <input type="text" id="damageresistances" class="form-control" /></label>
    <label>Immunities <input type="text" id="immunities" class="form-control" /></label>
    <label>Senses <input type="text" id="senses" class="form-control" /></label>
    <label>Languages <input type="text" id="languages" class="form-control" /></label>
  </div>
  <div class="col-md-4">
    <h4>Saves</h4>
    <label>Strength: <input type="number" id="strsave" class="form-control" /></label>
    <label>Dexterity: <input type="number" id="dexsave" class="form-control" /></label>
    <label>Constitution: <input type="number" id="consave" class="form-control" /></label>
    <label>Intelligence: <input type="number" id="intsave" class="form-control" /></label>
    <label>Wisdom: <input type="number" id="wissave" class="form-control" /></label>
    <label>Charisma: <input type="number" id="chasave" class="form-control" /></label>
  </div>
</div>
<div class="row">
  <div class="col-md-2">
    <h4>Skills</h4>
    <label>Acrobatics: <input type="number" id="acrobatics" class="form-control" /></label>
    <label>Animal Handling: <input type="number" id="animalhandling" class="form-control" /></label>
    <label>Arcana: <input type="number" id="arcana" class="form-control" /></label>
    <label>Athletics: <input type="number" id="athletics" class="form-control" /></label>
    <label>Deception: <input type="number" id="deception" class="form-control" /></label>
    <label>History: <input type="number" id="history" class="form-control" /></label>
    <label>Insight: <input type="number" id="insight" class="form-control" /></label>
    <label>Intimidation: <input type="number" id="intimidation" class="form-control" /></label>
    <label>Investigation: <input type="number" id="investigation" class="form-control" /></label>

  </div>
  <div class="col-md-2">
    <h4>&nbsp;</h4>
    <label>Medicine: <input type="number" id="medicine" class="form-control" /></label>
    <label>Nature: <input type="number" id="nature" class="form-control" /></label>
    <label>Perception: <input type="number" id="perception" class="form-control" /></label>
    <label>Performance: <input type="number" id="performance" class="form-control" /></label>
    <label>Persuasion: <input type="number" id="persuasion" class="form-control" /></label>
    <label>Religion: <input type="number" id="religion" class="form-control" /></label>
    <label>Slight of Hand: <input type="number" id="slightofhand" class="form-control" /></label>
    <label>Stealth: <input type="number" id="stealth" class="form-control" /></label>
    <label>Survival: <input type="number" id="survival" class="form-control" /></label>
  </div>
<div class="col-md-8">
  <div class="row" id="attacksdiv">
    <h4>Attacks</h4>
    <div class="row attackrow">    
        <div class="col-md-4">
          <label for="attackname1">Attack: <input type="text" class="form-control attack" /></label>
        </div>
        <div class="col-md-2">
          <label for="attackbonus1">Bonus: <input type="number" class="form-control bonus" /></label>
        </div>  
        <div class="col-md-3">
          <label for="attackdamage1">Damage: <input type="text" class="form-control damage" /></label>
        </div>
    </div>
  </div>
  <div class="row">
      <div class="col-md-2 pull-right btn-group">
        <input type="button" class="btn btn-default" id="addattack" value="Add Attack" />
        
      </div>
    </div>
  <div class="form-group">
  <h4>Possessions</h4>
    <textarea id="possessions" class="form-control" rows="5"></textarea>
  </div>

  <div class="form-group">
    <h4>Physical Description</h4>
    <textarea class="form-control" id="physicaldescription" rows="5"></textarea>
  </div>

  <div class="form-group">
    <h4>Proficiencies, Features and Traits</h4>
    <textarea class="form-control" id="features" rows="5"></textarea>
  </div>
  </div>
</section>
      </div>
      <div class="app" id="encounterBuilder" data-ng-controller="encounterBuilder" style="display: none">
        <h3>Encounter Builder</h3>
      </div>
      <div class="app" id="referenceManual" data-ng-controller="referenceManual" style="display: none">
        <h3>Reference Manual</h3>
        <!--Conditions, Injuries, Spells, Actions-->
      </div>
      <div class="app" id="initTracker" data-ng-controller="initTracker" style="display: none">
        <h3>NPC Builder</h3>
      </div>
      <div class="app" id="dmJournal" data-ng-controller="dmJournal" style="display: none">
        <h3>NPC Builder</h3>
      </div>
      <div class="app" id="diceRoller" data-ng-controller="diceRoller" style="display: none">
        <h3>Dice Roller</h3>
      </div>
      <div class="app" id="dungeonMap" data-ng-controller="dungeonMap" style="display: none">
        <h3>Dungeon Map</h3>
      </div>
    </div>
    <div id="appmenu" class="col-sm-2" data-ng-controller="appMenu" data-ng-init="init()">
      <ul id="appmenulist">
        <li><button class="AppMenuButton btn btn-lg" id="loadCreatureCreator">Creature Creator</button></li>
        <li><button class="AppMenuButton btn btn-lg" id="loadEncounterBuilder">Encounter Builder</button></li>
        <li><button class="AppMenuButton btn btn-lg" id="loadReferenceManual">Reference Manual</button></li>
        <li><button class="AppMenuButton btn btn-lg" id="loadInitTracker">Init Tracker</button></li>
        <li><button class="AppMenuButton btn btn-lg" id="loadDmJournal">DM Journal</button></li>
        <li><button class="AppMenuButton btn btn-lg" id="loadDiceRoller">Dice Roller</button></li>
        <li><button class="AppMenuButton btn btn-lg" id="loadDungeonMap">Dungeon Map</button></li>
        {% if app.user and is_granted('IS_AUTHENTICATED_REMEMBERED') %}
          <li><a class="AppMenuButton btn btn-lg" href="{{path('fos_user_profile_show')}}">My Account</a></li>
          <li><a class="AppMenuButton btn btn-lg" href="{{path('fos_user_change_password')}}">Change Password</a></li>
          <li><a class="AppMenuButton btn btn-lg" href="{{path('fos_user_security_logout')}}">Log Out</a></li>
        {% else %}
          <li><a class="AppMenuButton btn btn-lg" href="{{path('fos_user_registration_register')}}">Sign Up</a></li>
          <li><a class="AppMenuButton btn btn-lg" href="{{path('fos_user_security_login')}}">Sign In</a></li>
        {% endif %}
        {% if app.user and is_granted('ROLE_ADMIN') %}
          <li><a class="AppMenuButton btn btn-lg" href="#">User Administration</a></li>
        {% endif %}
      </ul>
    </div>
  </div>
</div>
{% endblock %}

      {% block javascripts %}
        <script src="{{asset('jquery/2.1.4/jquery.min.js', 'cdn')}}"></script>
        <script src="{{asset('jqueryui/1.11.4/jquery-ui.min.js', 'cdn')}}"></script>
        <script src="{{asset('angularjs/1.4.2/angular.min.js', 'cdn')}}"></script>
        {% javascripts '@AppBundle/libraries/*'
                       '@AppBundle/js/tools.js'
                       output='js/script-tools.js'%}
        <script src="{{ asset_url }}"></script>
        {% endjavascripts %}
        {% endblock %}